<div class="main-content">
    <!-- spinner region -->
    <div class="panel-container-spinner" *ngIf="showSpinner">
        <app-spinner class="spinner-container"></app-spinner>
    </div>
    <!-- end spinner region -->
    <div class="row">
        <div class="col-md-12">
            <div class="card ">
                <!--#region watermark-->
                <div class="watermark" hidden>
                    <h6>{{this.companyName}}</h6>
                    <h6>{{this.userName}}</h6>
                    <h6>{{this.sysDate | date}} {{this.currentTime}}</h6>
                </div>
                <!--#endregion watermark-->

                <div class="card-header ">
                    <h4 class="card-title">Agreement Info </h4>
                </div>
                <div class="card-body ">

                    <!--#region button submit dan back-->
                    <!-- <button type="button" class="btn btn-success btn-round" (click)="btnBack()">Proceed</button> -->
                    <button type="button" class="btn btn-danger btn-round" (click)="btnBack()">Back</button>
                    <!-- <button type="button" style='float: right;' class="btn btn-info btn-print-round custom-button-width"
              (click)="btnPrint()" data-role="R00020560012057P">Print Schedule</button> -->
                    <!--#endregion button submit dan back-->

                    <!--#region row-->
                    <div class="row">
                        <!--#region agreement_external_no-->
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="agreement_external_no" class="control-label">Agreement No </label>
                                <input type="text" class="form-control" [ngModel]="model.agreement_external_no" maxlength="50"
                                    name="p_agreement_external_no" [readonly]="isReadOnly" #agreement_external_no="ngModel">
                            </div>
                        </div>
                        <!--#endregion agreement_external_no-->

                        <!--#region Agreement Status-->
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="agreement_status" class="control-label">Status </label>
                                <input type="text" class="form-control" [ngModel]="model.agreement_status"
                                    maxlength="10" name="p_agreement_status" #agreement_status="ngModel"
                                    [readonly]="isReadOnly">
                            </div>
                        </div>
                        <!--#endregion Agreement Status-->

                        <!--#region application_external_no-->
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="application_external_no" class="control-label">Application No </label>
                                <input type="text" class="form-control" [ngModel]="model.application_external_no" maxlength="50"
                                    name="p_application_external_no" [readonly]="isReadOnly" #application_external_no="ngModel">
                            </div>
                        </div>
                        <!--#endregion application_external_no-->

                        <!--#region client_no-->
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="client_no" class="control-label">Client No </label>
                                <input type="text" class="form-control" [ngModel]="model.client_no" maxlength="250"
                                    name="p_client_no" [readonly]="isReadOnly" #client_no="ngModel">
                            </div>
                        </div>
                        <!--#endregion client_no-->

                        <!--#region client_name-->
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="client_name" class="control-label">Client Name </label>
                                <input type="text" class="form-control" [ngModel]="model.client_name" maxlength="250"
                                    name="p_client_name" [readonly]="isReadOnly" #client_name="ngModel">
                            </div>
                        </div>
                        <!--#endregion client_name-->

                        <!--#region client_type-->
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="client_type" class="control-label">Client Type </label>
                                <input type="text" class="form-control" [ngModel]="model.client_type" maxlength="250"
                                    name="p_client_type" [readonly]="isReadOnly" #client_type="ngModel">
                            </div>
                        </div>
                        <!--#endregion client_type-->


                    </div>
                    <!--#region row -->

                    <!--#region row-->
                    <div class="row">
                        <!--#region branch_name-->
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="branch_code" class="control-label">Branch Code </label>
                                <input type="text" class="form-control col-md-4" [ngModel]="model.branch_code"
                                    maxlength="250" name="p_branch_code" [readonly]="isReadOnly" #branch_code="ngModel">
                            </div>
                        </div>
                        <!--#endregion branch_name-->
                        <!--#region branch_name-->
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="branch_name" class="control-label">Branch Name </label>
                                <input type="text" class="form-control" [ngModel]="model.branch_name" maxlength="250"
                                    name="p_branch_name" [readonly]="isReadOnly" #branch_name="ngModel">
                            </div>
                        </div>
                        <!--#endregion branch_name-->

                        <!--#region initial_branch_name-->
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="initial_branch_name" class="control-label">Initial Branch Name </label>
                                <input type="text" class="form-control" [ngModel]="model.initial_branch_name"
                                    maxlength="250" name="p_initial_branch_name" [readonly]="isReadOnly"
                                    #initial_branch_name="ngModel">
                            </div>
                        </div>
                        <!--#endregion initial_branch_name-->

                        <!--#region agreement_date-->
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="p_agreement_date" class="control-label">Agreement Date</label>
                                <input class="form-control col-md-6" placeholder="dd/mm/yyyy" angular-mydatepicker
                                    [ngModel]="model.agreement_date" name="p_agreement_date"
                                    [options]="myDatePickerOptions" #p_agreement_date="ngModel"
                                    #agreement_date="angular-mydatepicker" autocomplete="off" [readonly]="isReadOnly" />
                            </div>
                        </div>
                        <!--#endregion agreement_date-->

                        <!--#region payment_promise_date-->
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="payment_promise_date" class="control-label">Payment Promise Date</label>
                                <input class="form-control col-md-6" placeholder="dd/mm/yyyy" angular-mydatepicker
                                    [ngModel]="model.payment_promise_date" name="p_payment_promise_date"
                                    [options]="myDatePickerOptions" #payment_promise_date="ngModel"
                                    #payment_promise_date="angular-mydatepicker" autocomplete="off"
                                    [readonly]="isReadOnly" />
                            </div>
                        </div>
                        <!--#endregion agreement_date-->
                    </div>
                    <!--#region row -->

                    <!--#region row -->
                    <div class="row">
                        <!--#region currency_code-->
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="currency_code" class="control-label">Currency </label>
                                <input type="text" class="form-control col-md-4" [ngModel]="model.currency_code"
                                    maxlength="250" name="p_currency_code" [readonly]="isReadOnly"
                                    #currency_code="ngModel">
                            </div>
                        </div>
                        <!--#endregion currency_code-->

                        <!--#region facility_code-->
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="facility_code" class="control-label">Facility Code </label>
                                <input type="text" class="form-control" [ngModel]="model.facility_code" maxlength="250"
                                    name="p_facility_code" [readonly]="isReadOnly" #facility_code="ngModel">
                            </div>
                        </div>
                        <!--#endregion facility_code-->


                        <!--#region round_amount-->
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="lease_option" class="control-label">Lease Option</label>
                                <input type="text" class="form-control" [ngModel]="model.lease_option" maxlength="250"
                                    name="p_lease_option" [readonly]="isReadOnly" #lease_option="ngModel">
                            </div>
                        </div>
                        <!--#endregion facility_name-->

                        <!--#region facility_name-->
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="facility_name" class="control-label">Facility Name </label>
                                <input type="text" class="form-control" [ngModel]="model.facility_name" maxlength="250"
                                    name="p_facility_name" [readonly]="isReadOnly" #facility_name="ngModel">
                            </div>
                        </div>
                        <!--#endregion facility_name-->

                        <!--#region collection Status-->
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="collection_status" class="control-label">Collection Status</label>
                                <input type="text" class="form-control" [ngModel]="model.collection_status"
                                    maxlength="20" name="p_collection_status" #collection_status="ngModel"
                                    [readonly]="isReadOnly">
                            </div>
                        </div>
                        <!--#endregion collection Status-->
                        <!--#region Aggrement Status-->
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="agreement_sub_status" class="control-label">Agreement Sub Status</label>
                                <input type="text" class="form-control" [ngModel]="model.agreement_sub_status"
                                    maxlength="20" name="p_agreement_sub_status" #agreement_sub_status="ngModel"
                                    [readonly]="isReadOnly">
                            </div>
                        </div>
                        <!--#endregion aggrement Status-->

                        <!--#region ,first_payment_type-->
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="first_payment_type" class="control-label">First Payment Type</label>
                                <input type="text" class="form-control" [ngModel]="model.first_payment_type"
                                    maxlength="20" name="p_first_payment_type" #first_payment_type="ngModel"
                                    [readonly]="isReadOnly">
                            </div>
                        </div>
                        <!--#endregion ,credit_term-->

                        <!--#region ,credit_term-->
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="credit_term" class="control-label">Credit Term</label>
                                <input type="text" class="form-control col-md-4" [ngModel]="model.credit_term"
                                    maxlength="20" name="p_credit_term" #credit_term="ngModel" [readonly]="isReadOnly">
                            </div>
                        </div>
                        <!--#endregion ,credit_term-->

                        <!--#region ,billing_type-->
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="billing_type" class="control-label">Billing Type</label>
                                <input type="text" class="form-control" [ngModel]="model.billing_type" maxlength="20"
                                    name="p_billing_type" #billing_type="ngModel" [readonly]="isReadOnly">
                            </div>
                        </div>
                        <!--#endregion ,is_pending_billing-->

                        <!--#region ,is_pending_billing-->
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="is_pending_billing" class="control-label">Pending Billing</label>
                                <input type="text" class="form-control col-md-4" [ngModel]="model.is_pending_billing"
                                    maxlength="20" name="p_is_pending_billing" #is_pending_billing="ngModel"
                                    [readonly]="isReadOnly">
                            </div>
                        </div>
                        <!--#endregion ,is_pending_billing-->

                        <!--#region is_stop_billing-->
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="is_stop_billing" class="control-label">Stop Billing</label>
                                <input type="text" class="form-control col-md-4" [ngModel]="model.is_stop_billing"
                                    maxlength="20" name="p_is_stop_billing" #is_stop_billing="ngModel"
                                    [readonly]="isReadOnly">
                            </div>
                        </div>
                        <!--#endregion is_stop_billing-->

                        <!--#region periode-->
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="periode" class="control-label">Periode</label>
                                <input type="text" class="form-control col-md-4" [ngModel]="model.periode"
                                    maxlength="20" name="p_periode" #periode="ngModel" [readonly]="isReadOnly">
                            </div>
                        </div>
                        <!--#endregion is_stop_billing-->

                        <!--#region Termination Status-->
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="termination_status" class="control-label">Termination Type </label>
                                <input type="text" class="form-control" [ngModel]="model.termination_status"
                                    maxlength="20" name="p_termination_status" #termination_status="ngModel"
                                    [readonly]="isReadOnly">
                            </div>
                        </div>
                        <!--#endregion Termination Status-->

                        <!--#region termination_date-->
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="p_termination_date" class="control-label">Termination Date</label>
                                <input class="form-control col-md-6" placeholder="dd/mm/yyyy" angular-mydatepicker
                                    [ngModel]="model.termination_date" name="p_termination_date"
                                    [options]="myDatePickerOptions" #p_termination_date="ngModel"
                                    #termination_date="angular-mydatepicker" autocomplete="off"
                                    [readonly]="isReadOnly" />
                            </div>
                        </div>
                        <!--#endregion termination_date-->

                        <!--#region Outstanding Deferred Income -->
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="outstanding_deferred_income" class="control-label">Outstanding Deferred
                                    Income </label>
                                <input type="text" class="form-control"
                                    [ngModel]="model.outstanding_deferred_income | number : '1.2-2'"
                                    amount="total_fee_amount" maxlength="20" name="p_outstanding_deferred_income"
                                    #outstanding_deferred_income="ngModel" [readonly]="isReadOnly">
                            </div>
                        </div>
                        <!--#endregion Outstanding Deferred Income -->
                    </div>
                    <!--#endregion row-->
                </div>
                <!--#region wizard-->
                <!-- <div class="wizard-custom-margin" [hidden]="param == null">
            <div class="wizard-container">
              <div class="card-wizard" style="opacity: 1 !important; min-height: 0px;" data-color="primary"
                id="wizardProfile">
                <div class="text-center">
                  <div class="wizard-navigation">
                    <ul>
                      <li class="nav-item" id="Asset">
                        <a class="nav-link" (click)="agreementassetwiz()" href="#agreementassetlist" data-toggle="tab"
                          role="tab" aria-controls="agreementassetlist" aria-selected="true">
                          Asset
                        </a>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div> -->
                <!--endregion wizard-->
                <!-- <router-outlet></router-outlet> -->
                <span layout="row horizontal-divider">
                    <hr flex />
                </span>
                <!--#region list view-->
                <div *ngIf="param != null" class="row">
                    <div class="col-md-12">
                        <div class="card-header">
                            <h4 class="card-title">Asset Deferred Income List</h4>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <!--#region LookupAsset-->
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="labelmodule" (click)="btnClearLookupAsset()"
                                            style="cursor: pointer;" title="Clear">Asset No</label>
                                        <div class="col-md-12 buttons btn-lookup-margin">
                                            <span>
                                                <button class="btn btn-icon btn-outline-default btn-round btn-md"
                                                    type="button" (click)="btnLookupAsset()" data-toggle="modal"
                                                    data-target="#lookupModalAsset" href="#"><i
                                                        class="fa fa-search-plus"></i></button>
                                                {{this.asset_name}}
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <!--#endregion LookupAsset-->
                            </div>
                            <div class="toolbar">
                                <button class="btn btn-info btn-round custom-button-width" (click)="btnDownload()"
                                    data-role="R00023860000002P">
                                    Download EXCEL
                                </button>
                            </div>
                            <!--#region list view-->
                            <table id="datatableAsset" datatable [dtOptions]="dtOptions"
                                class="table table-striped table-bordered row-border hover" cellspacing="0"
                                width="100%">
                                <thead>
                                    <tr>
                                        <th class="disabled-sorting">No</th>
                                        <th style="display: none;"></th>
                                        <th>Asset No</th>
                                        <th>Installment No</th>
                                        <th>Transaction Date</th>
                                        <th>Invoice No</th>
                                        <th>Income Amount</th>
                                        <th>Reff Name</th>
                                        <th style="text-align: center;">Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let row of listasset;let i=index ">
                                        <td class="if-no-edit-btn" style="display: none;"></td>
                                        <td class="if-no-edit-btn" style="text-align: center;">
                                            {{listasset.numberIndex+i+1}}</td>
                                        <td style="display: none;"></td>
                                        <td style="width: 15%;">{{row.asset_no}} <br> {{row.asset_name}}</td>
                                        <td style="width: 10%;text-align: center;">{{row.installment_no}}</td>
                                        <td style="width: 10%;text-align: center;">{{row.transaction_date}}</td>
                                        <td style="width: 10%;text-align: center;">{{row.invoice_no}}</td>
                                        <td style="width: 15%;text-align: right;">{{row.income_amount | number :
                                            '1.2-2'}}</td>
                                        <td style="width: 30%;">{{row.reff_name}}</td>
                                        <td style="text-align: center;">
                                            <a class="btn btn-warning btn-link btn-icon btn-sm edit" title="Edit"
                                                (click)="btnEdit(row.asset_no)"><i class="fa fa-edit"></i></a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <!--#endregion list view-->
                        </div>
                    </div>
                </div>
                <!--#endregion list view-->
            </div>
        </div>
    </div>
</div>


<!--#region modal lookup Asset code-->
<div class="modal bd-example-modal-lg" tabindex="-1" aria-hidden="true" id="lookupModalAsset" style="margin-top: -65px">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body" style="overflow:hidden;">
                <form>
                    <div class="col-md-12">
                        <div class="card-body col-md-12">
                            <table id="datatableLookupAsset" class="table table-striped table-bordered hover"
                                cellspacing="0" style="min-width: 100%;">
                                <thead>
                                    <tr>
                                        <th style="display: none;"></th>
                                        <th class="disabled-sorting">No</th>
                                        <th>Asset No</th>
                                        <th>Asset Name</th>
                                        <th class="text-center">Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let row of lookupasset;let i=index">
                                        <td style="display: none;"></td>
                                        <td style="text-align: center;">{{lookupasset.numberIndex+i+1}}</td>
                                        <td style="text-align: center; width: 20%;">{{ row.asset_no }}</td>
                                        <td style="width: 80%;">{{ row.asset_name }}</td>
                                        <td class="text-center">
                                            <button class="btn btn-outline-default btn-round"
                                                (click)="btnSelectRowAsset(row.asset_no, row.asset_name)">Select</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<!--#endregion modal lookup branch code-->